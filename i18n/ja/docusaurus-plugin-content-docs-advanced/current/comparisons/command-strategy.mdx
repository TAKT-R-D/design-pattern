---
sidebar_label: ðŸ” Command vs Strategy
---

# ðŸ” Command ã¨ Strategy ã®æ¯”è¼ƒ

## âœ… æ¯”è¼ƒã®ç›®çš„

`Command` ã¨ `Strategy` ã¯ã€ã„ãšã‚Œã‚‚ã€Œå‡¦ç†ã®æŠ½è±¡åŒ–ã¨å·®ã—æ›¿ãˆã€ã‚’ç›®çš„ã¨ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚‹ãŒã€ãã®é©ç”¨ç›®çš„ã‚„ä½¿ç”¨å ´é¢ã«ã¯æ˜Žç¢ºãªé•ã„ãŒã‚ã‚‹ã€‚æœ¬æ¯”è¼ƒã§ã¯ã€æ§‹é€ ã‚„åˆ©ç”¨ç›®çš„ã€å®Ÿå‹™ã§ã®å¿œç”¨è¦³ç‚¹ã‹ã‚‰ä¸¡è€…ã‚’æ•´ç†ã—ã€è¨­è¨ˆåˆ¤æ–­ã®æŒ‡é‡ã‚’å¾—ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚

## âœ… æ¯”è¼ƒã®è¦³ç‚¹

| æ¯”è¼ƒé …ç›®   | Commandï¼ˆã‚³ãƒžãƒ³ãƒ‰ï¼‰                        | Strategyï¼ˆæˆ¦ç•¥ï¼‰                           |
| ---------- | ------------------------------------------ | ------------------------------------------ |
| ç›®çš„       | å‡¦ç†è‡ªä½“ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã‚«ãƒ—ã‚»ãƒ«åŒ–ã™ã‚‹ | ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„æŒ¯ã‚‹èˆžã„ã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«ã™ã‚‹ |
| ä¸»ãªç”¨é€”   | å±¥æ­´ç®¡ç†ã€Undo/Redoã€ãƒãƒƒãƒå‡¦ç†ãªã©        | å‡¦ç†ã®æŸ”è»Ÿãªåˆ‡ã‚Šæ›¿ãˆã€å®Ÿè¡Œæ™‚ã®æˆ¦ç•¥å¤‰æ›´     |
| æ§‹é€        | ã‚³ãƒžãƒ³ãƒ‰ + å—ä¿¡è€… + å‘¼ã³å‡ºã—å…ƒã®æ§‹æˆ       | æˆ¦ç•¥ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ + è¤‡æ•°ã®å®Ÿè£…ã‚¯ãƒ©ã‚¹    |
| å†åˆ©ç”¨æ€§   | å‡¦ç†å˜ä½ã®å†åˆ©ç”¨ãŒã—ã‚„ã™ã„                 | æŒ¯ã‚‹èˆžã„å˜ä½ã§ä»–æ–‡è„ˆã§ã‚‚å†åˆ©ç”¨ã—ã‚„ã™ã„     |
| æ‹¡å¼µæ€§     | æ–°ã—ã„å‡¦ç† = æ–°ã—ã„ã‚³ãƒžãƒ³ãƒ‰ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ     | æ–°ã—ã„æŒ¯ã‚‹èˆžã„ = æ–°ã—ã„æˆ¦ç•¥ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ     |
| å…¸åž‹çš„ãªä¾‹ | GUI æ“ä½œã€ãƒãƒƒãƒå‡¦ç†ã€Undo æ©Ÿæ§‹ãªã©        | èª²é‡‘æ–¹å¼ã®åˆ‡ã‚Šæ›¿ãˆã€ä¸¦ã³æ›¿ãˆå‡¦ç†ãªã©       |

## âœ… é¡žä¼¼ç‚¹

- å‡¦ç†ï¼ˆå‹•ä½œï¼‰ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æŠ½è±¡åŒ–ã™ã‚‹
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’é€šã˜ã¦å‘¼ã³å‡ºã—å¯èƒ½ãªå…±é€šæ§‹é€ ã‚’æŒã¤
- å‘¼ã³å‡ºã—å…ƒã¯ã€å…·ä½“çš„ãªå‡¦ç†å†…å®¹ã‚’æ„è­˜ã›ãšæ“ä½œã§ãã‚‹
- å®Ÿè£…ã‚’å·®ã—æ›¿ãˆã‚‹ã“ã¨ã§å‹•ä½œã‚’æŸ”è»Ÿã«å¤‰æ›´å¯èƒ½

## âœ… æ±ºå®šçš„ãªé•ã„

| è¦³ç‚¹         | Command ãƒ‘ã‚¿ãƒ¼ãƒ³                    | Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³                    |
| ------------ | ----------------------------------- | ------------------------------------ |
| ç›®çš„         | å‡¦ç†ã®å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚„å±¥æ­´ã®ç®¡ç†    | ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„æŒ¯ã‚‹èˆžã„ã®å·®ã—æ›¿ãˆ     |
| ä¸»ä½“         | ã€Œå‘½ä»¤ã€ã®å®šç¾©ã¨å±¥æ­´ã®ç®¡ç†          | ã€Œå‡¦ç†å†…å®¹ã€ã®é¸æŠžã¨æ³¨å…¥             |
| å–ã‚Šæ¶ˆã—å‡¦ç† | `undo()` ãªã©ã§æ˜Žç¤ºçš„ã«å–ã‚Šæ¶ˆã—å¯èƒ½ | åŸºæœ¬çš„ã«å–ã‚Šæ¶ˆã—ã¯å¯¾è±¡å¤–             |
| å‘¼ã³å‡ºã—å½¹   | Invoker ãŒä¸­å¿ƒã€‚Command ã‚’æ“ä½œã™ã‚‹  | Context ãŒ Strategy ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ä½¿ç”¨ |
| ä¸»ãªæ´»ç”¨å ´é¢ | Undo/Redoã€éžåŒæœŸå‡¦ç†ã€ã‚­ãƒ¥ãƒ¼å®Ÿè¡Œ   | å‡¦ç†æˆ¦ç•¥ã®åˆ‡ã‚Šæ›¿ãˆã€ãƒãƒªã‚·ãƒ¼é©ç”¨     |

## âœ… é¸ã³åˆ†ã‘ã®åˆ¤æ–­è»¸

- âœ… **å±¥æ­´ç®¡ç†ã‚„å†å®Ÿè¡ŒãŒå¿…è¦** â†’ `Command`
- âœ… **ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„å‡¦ç†æ–¹é‡ã®åˆ‡ã‚Šæ›¿ãˆ** â†’ `Strategy`
- âœ… **æ“ä½œå˜ä½ã§æŠ½è±¡åŒ–ã—è¨˜éŒ²ã—ãŸã„** â†’ `Command`
- âœ… **æŸ”è»Ÿã«å‡¦ç†æ–¹å¼ã‚’åˆ‡ã‚Šæ›¿ãˆãŸã„** â†’ `Strategy`

## âœ… UML ã‚¯ãƒ©ã‚¹å›³

### Command ãƒ‘ã‚¿ãƒ¼ãƒ³

```mermaid
classDiagram
  class Invoker {
    -commands: List~Command~
    +executeCommand(command)
    +undoLast()
  }

  class Command {
    +execute()
    +undo()
  }

  class SaveCommand {
    +execute()
    +undo()
  }

  class DeleteCommand {
    +execute()
    +undo()
  }

  Invoker --> Command
  Command <|-- SaveCommand
  Command <|-- DeleteCommand
```

### Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³

```mermaid
classDiagram
  class Context {
    -strategy: Strategy
    +execute()
  }

  class Strategy {
    +execute()
  }

  class StrategyA {
    +execute()
  }

  class StrategyB {
    +execute()
  }

  Context --> Strategy
  Strategy <|-- StrategyA
  Strategy <|-- StrategyB
```

## âœ… å®Ÿå‹™ã§ã®ãƒ’ãƒ³ãƒˆ

- âœ… **Command** ã¯ã€ã€Œä½•ã‚’ã‚„ã£ãŸã‹ã€ã‚’è¨˜éŒ²ã—ãŸã„æ™‚ã«æœ€é©ï¼ˆãƒãƒƒãƒå‡¦ç†ã€ã‚¨ãƒ‡ã‚£ã‚¿ã®æ“ä½œå±¥æ­´ãªã©ï¼‰
- âœ… **Strategy** ã¯ã€å‡¦ç†æ–¹å¼ã‚’å¤–éƒ¨ã‹ã‚‰æ³¨å…¥ãƒ»åˆ‡ã‚Šæ›¿ãˆãŸã„æ™‚ã«ä¾¿åˆ©ï¼ˆé€šçŸ¥æ–¹å¼ã€èªè¨¼æ‰‹æ®µãªã©ï¼‰
- â–¶ï¸ **ä¸¡è€…ã‚’ä½µç”¨ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½**ï¼šãƒãƒƒãƒå‡¦ç†ã®ä¸­ã§é€šçŸ¥æ–¹æ³•ã‚’æˆ¦ç•¥ã¨ã—ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ãªã©

## âœ… ã¾ã¨ã‚

- `Command` ã¯ã€Œå‡¦ç†ãã®ã‚‚ã®ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒ–ã€ã—ã¦ã€å®Ÿè¡Œãƒ»å–ã‚Šæ¶ˆã—ãƒ»å±¥æ­´ç®¡ç†ãŒã§ãã‚‹
- `Strategy` ã¯ã€Œå‡¦ç†ã®ã‚„ã‚Šæ–¹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãŸã‚ã®æ³¨å…¥æ§‹é€ ã€ã‚’æä¾›ã™ã‚‹
- ä¼¼ãŸæ§‹é€ ãªãŒã‚‰ã€**å±¥æ­´ãƒ»æ“ä½œå˜ä½ã§è¨­è¨ˆã™ã‚‹ã‹ï¼åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ãªãƒãƒªã‚·ãƒ¼ã¨ã—ã¦è¨­è¨ˆã™ã‚‹ã‹** ã§å¤§ããæ„å‘³ãŒç•°ãªã‚‹
