import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

import tsCode from "@site/src/codes/ref-synergy/ts/state-strategy.ts";
import phpCode from "@site/src/codes/ref-synergy/php/state-strategy.php";
import pyCode from "@site/src/codes/ref-synergy/py/state-strategy.py";

# ğŸ§© Bridge Ã— Strategy

## âœ… çµ„ã¿åˆã‚ã›ã®æ„å›³

- `Bridge` ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã£ã¦ã€Œé€šçŸ¥æ‰‹æ®µï¼ˆãƒ¡ãƒ¼ãƒ« / Slack ãªã©ï¼‰ã€ã¨ã€Œé€šçŸ¥å†…å®¹ã®è¡¨ç¾ï¼ˆãƒ—ãƒ¬ãƒ¼ãƒ³ / HTMLï¼‰ã€ã¨ã„ã†**ç‹¬ç«‹ã—ãŸ 2 è»¸**ã‚’åˆ†é›¢
- `Strategy` ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é€šçŸ¥å†…å®¹ã®çµ„ã¿ç«‹ã¦æ–¹ã‚’å¤–éƒ¨åŒ–ã—ã€**é€šçŸ¥æ–¹å¼ Ã— è¡¨ç¾æ–¹æ³•**ã®æŸ”è»Ÿãªçµ„ã¿åˆã‚ã›ã‚’å¯èƒ½ã«ã™ã‚‹

å…±é€šã®é€šçŸ¥å‡¦ç†ã‚’ `Notifier` ã§ã¾ã¨ã‚ã¤ã¤ã€**å‡ºåŠ›æ–¹å¼ï¼ˆãƒ¡ãƒ¼ãƒ« / Slackï¼‰ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ§‹æˆãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ—ãƒ¬ãƒ¼ãƒ³ / HTMLï¼‰ã‚’æŸ”è»Ÿã«çµ„ã¿åˆã‚ã›ã‚‰ã‚Œã‚‹è¨­è¨ˆ**ã‚’å®Ÿç¾ã€‚

## âœ… ã‚ˆãä½¿ã‚ã‚Œã‚‹ã‚·ãƒ¼ãƒ³

- é€šçŸ¥ã®**è¡¨ç¾æ–¹å¼ï¼ˆãƒ†ã‚­ã‚¹ãƒˆ / HTML / Markdownï¼‰ã¨é€ä¿¡æ–¹å¼ï¼ˆãƒ¡ãƒ¼ãƒ« / Slack ãªã©ï¼‰ã‚’è‡ªç”±ã«çµ„ã¿åˆã‚ã›ãŸã„**ã¨ã
- æ‹¡å¼µã®è»¸ãŒè¤‡æ•°ã‚ã‚‹ãŒã€ãã‚Œãã‚Œã‚’**ç‹¬ç«‹ã—ã¦è¨­è¨ˆãƒ»æ‹¡å¼µã—ãŸã„**ã¨ã
- **UI ã¨ãƒ†ãƒ¼ãƒ**ã€**ãƒ‡ãƒ¼ã‚¿ã¨è¡¨ç¤ºæ‰‹æ®µ**ãªã©ã€**ç‹¬ç«‹ã—ãŸ 2 è»¸ã‚’æŒã¤æ§‹æˆ**ã§å†åˆ©ç”¨æ€§ã‚’é«˜ã‚ãŸã„ã¨ã

## âœ… UML ã‚¯ãƒ©ã‚¹å›³

```mermaid
classDiagram
  direction LR

  class Notifier {
    +strategy: MessageStrategy
    +notify(user: string, content: string): void
  }

  class EmailNotifier {
    +notify(user: string, content: string): void
  }

  class SlackNotifier {
    +notify(user: string, content: string): void
  }

  class MessageStrategy {
    <<interface>>
    +compose(user: string, content: string): string
  }

  class PlainMessageStrategy {
    +compose(user: string, content: string): string
  }

  class HtmlMessageStrategy {
    +compose(user: string, content: string): string
  }

  Notifier <|-- EmailNotifier
  Notifier <|-- SlackNotifier
  Notifier --> MessageStrategy
  MessageStrategy <|.. PlainMessageStrategy
  MessageStrategy <|.. HtmlMessageStrategy
```

## âœ… ã‚³ãƒ¼ãƒ‰ä¾‹

<Tabs groupId="language">
  <TabItem value="ts" label="TypeScript">
    <CodeBlock language="ts">{tsCode}</CodeBlock>
  </TabItem>
  <TabItem value="php" label="PHP">
    <CodeBlock language="php">{phpCode}</CodeBlock>
  </TabItem>
  <TabItem value="python" label="Python">
    <CodeBlock language="python">{pyCode}</CodeBlock>
  </TabItem>
</Tabs>

## âœ… è§£èª¬

- `Notifier` ã¯ã€é€šçŸ¥æ‰‹æ®µã®æŠ½è±¡ã‚¯ãƒ©ã‚¹ã€‚å†…éƒ¨ã« `MessageStrategy` ã‚’æŒã¡ã€**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®çµ„ã¿ç«‹ã¦æ–¹ã‚’å¤–éƒ¨åŒ–**ï¼ˆ`Strategy`ï¼‰ã€‚
- `EmailNotifier`, `SlackNotifier` ã¯ãã‚Œãã‚Œç•°ãªã‚‹é€šçŸ¥ãƒãƒ£ãƒãƒ«ã‚’æä¾›ï¼ˆ`Bridge` ã®å®Ÿè£…å´ï¼‰ã€‚
- `MessageStrategy` ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæˆ¦ç•¥ã§ã€`PlainMessageStrategy` ã‚„ `HtmlMessageStrategy` ã«ã‚ˆã£ã¦å·®ã—æ›¿ãˆå¯èƒ½ã€‚
- é€šçŸ¥æ–¹å¼ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ§‹æˆæ–¹å¼ãŒ**ç‹¬ç«‹ã—ã¦å¤‰æ›´ãƒ»æ‹¡å¼µã§ãã‚‹**æ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã€‚

## âœ… ã¾ã¨ã‚

- `Bridge` ã«ã‚ˆã‚Šã€Œé€šçŸ¥æ–¹å¼ã®æ‹¡å¼µã€ã¨ã€Œé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ§‹æˆã€ã®é–¢å¿ƒã‚’åˆ†é›¢
- `Strategy` ã«ã‚ˆã‚Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ã®æ§‹ç¯‰æ–¹æ³•ã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½
- æ‹¡å¼µã®è‡ªç”±åº¦ãŒé«˜ãã€ã€Œã©ã®é€šçŸ¥æ–¹å¼ Ã— ã©ã®è¡¨ç¾æ–¹å¼ã€ã¨ã„ã†æŸ”è»Ÿãªçµ„ã¿åˆã‚ã›ã‚’å¯èƒ½ã«ã™ã‚‹

ã“ã®æ§‹é€ ã¯ã€**å¤šè»¸ã§ã®æ‹¡å¼µãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å®Ÿå‹™**ã«ãŠã„ã¦éå¸¸ã«åŠ¹æœçš„ã§ã€è¨­è¨ˆã®ä¿å®ˆæ€§ãƒ»å†åˆ©ç”¨æ€§ã‚’å¤§ããå‘ä¸Šã•ã›ã‚‹ã€‚
