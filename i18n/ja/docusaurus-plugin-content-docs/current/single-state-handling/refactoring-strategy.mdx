import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

import tsCode from "@site/src/codes/single-state-handling/ts/rfc_strategy.ts";
import phpCode from "@site/src/codes/single-state-handling/php/rfc_strategy.php";
import pyCode from "@site/src/codes/single-state-handling/py/rfc_strategy.py";

# ğŸ§© Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³

## âœ… è¨­è¨ˆæ„å›³

- çŠ¶æ…‹ã§ã¯ãªãã€**å¤–éƒ¨ã‹ã‚‰å·®ã—æ›¿ãˆã‚‹ã€Œæˆ¦ç•¥ã€ã¨ã—ã¦æŒ¯ã‚‹èˆã„ã‚’æ‰±ã†**
- çŠ¶æ…‹é·ç§»ã®ç®¡ç†ã¯å¤–éƒ¨ã§å®Ÿè£…ã•ã‚Œã‚‹

## âœ… é©ç”¨ç†ç”±

- çŠ¶æ…‹ã¨æŒ¯ã‚‹èˆã„ã‚’å®Œå…¨ã«åˆ†é›¢ã—ãŸã„å ´åˆã«æœ‰åŠ¹
- ã€ŒæŒ¯ã‚‹èˆã„ã®åˆ‡ã‚Šæ›¿ãˆã€ã«é›†ä¸­ã—ãŸã„å ´åˆã¯ã“ã¡ã‚‰

## âœ… å‘ã„ã¦ã„ã‚‹ã‚·ãƒ¼ãƒ³

- çŠ¶æ…‹ç®¡ç†ãã®ã‚‚ã®ãŒä¸è¦ã§ã€**ãŸã å‡¦ç†ã ã‘å·®ã—æ›¿ãˆãŸã„ã¨ã**

## âœ… ã‚³ãƒ¼ãƒ‰ä¾‹

<Tabs groupId="language">
  <TabItem value="ts" label="TypeScript">
    <CodeBlock language="ts">{tsCode}</CodeBlock>
  </TabItem>
  <TabItem value="php" label="PHP">
    <CodeBlock language="php">{phpCode}</CodeBlock>
  </TabItem>
  <TabItem value="python" label="Python">
    <CodeBlock language="python">{pyCode}</CodeBlock>
  </TabItem>
</Tabs>

## âœ… è§£èª¬

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ `Strategy` ãƒ‘ã‚¿ãƒ¼ãƒ³ ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å…¬é–‹å‡¦ç†ã‚’æˆ¦ç•¥ï¼ˆ`PublishStrategy`ï¼‰ã¨ã—ã¦åˆ†é›¢ã—ã€
å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹è¨­è¨ˆã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã€‚`Strategy` ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„å‡¦ç†ã‚’ã‚¯ãƒ©ã‚¹ã¨ã—ã¦åˆ†é›¢ã—ã€å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚

### 1. Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¦‚è¦

- **Strategy**: å…±é€šã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã€ç•°ãªã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’çµ±ä¸€çš„ã«æ‰±ã†
  - ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ `PublishStrategy` ãŒè©²å½“
- **ConcreteStrategy**: `Strategy` ã‚’å®Ÿè£…ã—ã€å…·ä½“çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æä¾›ã™ã‚‹
  - ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ `DraftStrategy`, `ReviewStrategy`, `PublishedStrategy` ãŒè©²å½“
- **Context**: `Strategy` ã‚’åˆ©ç”¨ã™ã‚‹ã‚¯ãƒ©ã‚¹ã§ã€å…·ä½“çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆã‚‹
  - ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ `Document` ãŒè©²å½“

### 2. ä¸»ãªã‚¯ãƒ©ã‚¹ã¨ãã®å½¹å‰²

- `PublishStrategy`
  - å…¬é–‹å‡¦ç†ã®å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
  - `publish(): void` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©
- `DraftStrategy`, `ReviewStrategy`, `PublishedStrategy`
  - `PublishStrategy` ã‚’å®Ÿè£…ã—ãŸå…·ä½“çš„ãªæˆ¦ç•¥ã‚¯ãƒ©ã‚¹
  - å„ã‚¯ãƒ©ã‚¹ã§ç•°ãªã‚‹å…¬é–‹å‡¦ç†ã‚’æä¾›
  - `DraftStrategy`: ã€Œãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ã‚’é€ä¿¡ã€
  - `ReviewStrategy`: ã€Œå…¬é–‹ã—ã¾ã—ãŸã€
  - `PublishedStrategy`: ã€Œã™ã§ã«å…¬é–‹æ¸ˆã¿ã§ã™ã€
- `Document`
  - `Context` ã‚¯ãƒ©ã‚¹
  - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ `PublishStrategy` ã‚’å—ã‘å–ã‚Šã€`publish` ãƒ¡ã‚½ãƒƒãƒ‰ã§ç¾åœ¨ã®æˆ¦ç•¥ã«å¿œã˜ãŸå‡¦ç†ã‚’å®Ÿè¡Œ
  - `setStrategy` ãƒ¡ã‚½ãƒƒãƒ‰ã§æˆ¦ç•¥ã‚’å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½

### 3. UML ã‚¯ãƒ©ã‚¹å›³

```mermaid
classDiagram
    class PublishStrategy {
        <<interface>>
        +publish(): void
    }

    class DraftStrategy {
        +publish(): void
    }

    class ReviewStrategy {
        +publish(): void
    }

    class PublishedStrategy {
        +publish(): void
    }

    class Document {
        -strategy: PublishStrategy
        +setStrategy(strategy: PublishStrategy): void
        +publish(): void
    }

    PublishStrategy <|.. DraftStrategy
    PublishStrategy <|.. ReviewStrategy
    PublishStrategy <|.. PublishedStrategy
    Document --> PublishStrategy
```

### 4. Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹

- **æŸ”è»Ÿæ€§**: æˆ¦ç•¥ã‚’å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§ã€ç•°ãªã‚‹å‡¦ç†ã‚’ç°¡å˜ã«é©ç”¨å¯èƒ½
- **å˜ä¸€è²¬ä»»ã®åŸå‰‡**: å„æˆ¦ç•¥ãŒç‹¬ç«‹ã—ãŸã‚¯ãƒ©ã‚¹ã«åˆ†é›¢ã•ã‚Œã¦ãŠã‚Šã€ä¿å®ˆæ€§ãŒé«˜ã„
- **æ‹¡å¼µæ€§**: æ–°ã—ã„æˆ¦ç•¥ã‚’è¿½åŠ ã™ã‚‹å ´åˆã‚‚ã€`PublishStrategy` ã‚’å®Ÿè£…ã™ã‚‹ã ã‘ã§å¯¾å¿œå¯èƒ½

ã“ã®è¨­è¨ˆã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„å‡¦ç†ã‚’æŸ”è»Ÿã«åˆ‡ã‚Šæ›¿ãˆã‚‹å¿…è¦ãŒã‚ã‚‹å ´é¢ã§éå¸¸ã«æœ‰åŠ¹ã§ã‚ã‚Šã€ã‚³ãƒ¼ãƒ‰ã®æ‹¡å¼µæ€§ã¨ä¿å®ˆæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚
